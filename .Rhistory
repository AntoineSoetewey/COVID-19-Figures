size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
fig_trends5 <- fig_trends3 +
theme(axis.line.y = element_line())
fig_trends5
ggsave("fig_trends5.png")
fig_trends5 <- fig_trends3 +
theme(axis.line.y = element_line())
fig_trends5
ggsave("fig_trends5.png")
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3
ggsave("fig_trends3.png",
width = 12,
height = 12,
units = "cm",
dpi = 300)
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png",
width = 12,
height = 12,
units = "cm",
dpi = 300)
fig_trends5 <- fig_trends3 +
theme(axis.line.y = element_line())
fig_trends5
ggsave("fig_trends5.png",
width = 12,
height = 12,
units = "cm",
dpi = 300)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
fig_trends5 <- fig_trends3 +
theme(axis.line.y = element_line())
fig_trends5
ggsave("fig_trends5.png")
100000/11431406
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid * 114)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2) * 114,
limits = c(0, max(subdat$NEW_IN_divid) * 114)
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + 0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5 * 114, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid * 114)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2) * 114,
limits = c(0, max(subdat$NEW_IN_divid) * 114)
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + (0.2 * 114), label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5 * 114, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
fig_trends3bis
ggsave("fig_trends3bis.png")
2*114
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid * 114)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid) * 114, by = 200),
limits = c(0, max(subdat$NEW_IN_divid) * 114)
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + (0.2 * 114), label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5 * 114, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
ggsave("fig_trends3bis.png")
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid) * 114, by = 200),
limits = c(0, max(subdat$NEW_IN_divid) * 114)
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + (0.2 * 114), label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5 * 114, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
0.2*114
5*114
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN), by = 200),
limits = c(0, max(subdat$NEW_IN))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + 25, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 570, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
ggsave("fig_trends3bis.png")
5*114
fig_trends3bis <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN)
) +
geom_point(
size = 2L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations",
title = "Evolution des admissions hospitalières en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN), by = 200),
limits = c(0, max(subdat$NEW_IN))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-30"), y = 75 + (0.2 * 114), label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5 * 114, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside"
)
fig_trends3bis
ggsave("fig_trends3bis.png")

strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 6, label = "6/10: comité de concertation: mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10: comité de concertation: mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)",
title = "Evolution du nombre d'hospitalisations en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
# Create Belgian plot only
fig_trends3 <- ggplot(
subdat,
aes(x = DATE, y = NEW_IN_divid)
) +
geom_point(
size = 1L,
colour = "steelblue",
alpha=0.35
) +
labs(x = "", y = "Nombre d'hospitalisations (par 100,000 habitants)",
title = "Evolution du nombre d'hospitalisations en Belgique - COVID-19") +
# theme_minimal() +
theme_economist() + scale_color_economist() +
geom_smooth(
se = FALSE,
col = "steelblue",
method = "gam",
formula = y ~ s(x)
) +
# labs(
#   title = "Evolution des admissions hospitalières en Belgique - COVID-19"
#   # ,
#   # subtitle = paste0(format(as.Date(period), "%B %d"), " to ", format(max(dat$DATE), "%B %d"), " (en bleu) vs. ", format(min(dat$DATE), "%B %d"), " to ", format(period2, "%B %d"), " (en gris)")
# ) +
scale_y_continuous(
breaks = seq(from = 0, to = max(subdat$NEW_IN_divid), by = 2),
limits = c(0, max(subdat$NEW_IN_divid))
) +
scale_x_date(
labels = date_format("%d/%m"),
# date_breaks = "2 weeks",
breaks = break.vec,
# sec.axis = sec_axis(~ . - time_diff,
#                     labels = date_format("%d/%m"),
#                     breaks = break.vec - time_diff
# )
) +
geom_hline(
yintercept = 75*100000/11431406, linetype = "dashed",
color = "red", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-25"), y = 75*100000/11431406+0.2, label = "Niveau de 75 hospitalisations/jour"),
colour = "red", angle = 0, size = 5
) +
geom_vline(
xintercept = as.Date("2020-10-6"), linetype = "dashed",
color = "darkgray", size = 0.8
) +
geom_text(aes(x = as.Date("2020-10-6"), y = 5, label = "6/10 : comité de concertation : mesures plus strictes"),
colour = "darkgray", angle = 90, vjust = -0.5, size = 5
) +
theme(
axis.title = element_text(size = 16),
plot.title = element_text(size = 18, face = "bold"),
axis.text = element_text(size = 16),
axis.text.x = element_text(colour = "steelblue"),
axis.text.x.top = element_text(color = "darkgray"),
strip.text = element_text(size = 14),
strip.placement = "outside",
plot.margin = unit(c(5.5, 5.5, 20, 5.5), "points")
)
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = "dashed"),
panel.grid.minor = element_line(linetype = "dashed")
)
fig_trends4
ggsave("fig_trends4.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
fig_trends3
ggsave("fig_trends3.png")
# fig with gridlines
# (opts() is deprecated, use theme())
fig_trends4 <- fig_trends3 +
theme(
panel.grid.major = element_line(linetype = c("28")),
panel.grid.minor = element_line(linetype = c("28"))
)
fig_trends4
ggsave("fig_trends4.png")
